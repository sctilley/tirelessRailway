<table class="table table-striped table-bordered table-hover mx-3" id="statstable" _="install Sortable" style="max-width: 800px">
    <thead class="center">
        <tr>
        <th scope="col">Meta</th>
        <th scope="col">Deck Name</th>
        <th scope="col">Meta Share*</th>
        <th scope="col">Win % </th>
        <th>Played</th>
        <th>Wins</th>
        <th>Losses</th>  
        </tr>
    </thead>
    <tbody id="tablebodyplace">
            {% if checkfilter == True and deck.mynumgames != 0 %}
            {% for deck in mytopdeckslegacy %}
                {% if deck.mynumgames != 0 %}
                    <tr>
                        <th scope="row" class="center">{{ forloop.counter }}</th>
                        <td>{{ deck.theirDeck__name }}</td>
                        {% if deck.percentpopularity > 9 %}
                            <td>{{ deck.percentpopularity }}% <span>&#8226;</span> <small>{{ deck.popularity }} decks </small></td>
                        {% else %}
                            <td class="center">&nbsp;{{ deck.percentpopularity }}% <span>&#8226;</span> <small>{{ deck.popularity }} deck{% if deck.popularity > 1 %}s{% endif %} </small></td>
                        {% endif %}
                        <td class="center">{{ deck.mwp }}</td>

                        <td class="center">
                            {{ deck.mynumgames }}
                        </td>
                        <td class="center">
                            {{deck.mywingames}}
                        </td>
                        <td class="center">
                            {{deck.mylossgames}}
                        </td>
                    </tr>
                {% endif %}
            {% endfor %}
            {% else %}
            {% for deck in mytopdeckslegacy %}
            <tr>
                <th scope="row" class="center">{{ forloop.counter }}</th>
                <td>{{ deck.theirDeck__name }}</td>
                {% if deck.percentpopularity > 9 %}
                    <td class="center">{{ deck.percentpopularity }}% <span>&#8226;</span> <small>{{ deck.popularity }} decks </small></td>
                {% else %}
                    <td class="center">&nbsp;{{ deck.percentpopularity }}% <span>&#8226;</span> <small>{{ deck.popularity }} deck{% if deck.popularity > 1 %}s{% endif %} </small></td>
                {% endif %}
                {% if deck.mynumgames == 0 %}
                    <td>--</td>
                {% else %}
                    <td class="center">{{ deck.mwp }}</td>
                {% endif %}

                <td class="center">
                    {{ deck.mynumgames }}
                </td>
                <td class="center">
                    {{deck.mywingames}}
                </td>

                <td class="center">
                    {{deck.mylossgames}}
                </td>
            </tr>
            {% endfor %}
            {% endif %}

            <tfoot>
                <tr>
                    <td></td>
                    <td><a href="#" onclick="download_table_as_csv('statstable');">Download as CSV</a></td>
                    <td>&nbsp;<small>total: {{ num_decks }} decks</small></td>
                    <td></td>
                    <td></td>
                    
                    <td></td>

                </tr>
            </tfoot>
        </tbody>
</table>


<div class="d-none d-lg-block" id="table50stats" hx-swap-oob="true"> 
  <div class="card mx-5 mt-5">
    <div class="card-header text-center">
        <h2 name="varientselect" id="varientselect" hx-trigger="change" hx-get="{% url 'stats50s' %}" hx-target="#stats50scolumn" hx-include="#varientselect, #deckname">
            {{currentleague.myDeck}}
        </h2>
        {% if currentleauge.myFlavor != "none/stock" %}
            <h3>{{currentleague.myFlavor}}</h3>
        {% endif %}
    </div>
  </div>
  <div class="card mx-5" id="stats50scolumn">
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th class="text-center" colspan="3">Leagues</th>
          </tr>
          <tr>
            <th scope="col">result</th>
            <th scope="col">percent</th>
            <th scope="col">number</th>
          </tr>
        </thead>
        <tbody>
        <tr>
          <th scope="row">5-0</th>
          <td>{{ fiveohsper|floatformat:0 }}%</td>
          <td>{{ fiveohs }}</td>
        </tr>
        <tr>
          <th scope="row">4-1</th>
          <td>{{ fouronesper|floatformat:0 }}%</td>
          <td>{{ fourones }}</td>
        </tr>
        <tr>
          <th scope="row">3-2</th>
          <td>{{ threetwosper|floatformat:0 }}%</td>
          <td>{{ threetwos }}</td>
        </tr>
        <tr>
          <th scope="row">2-3</th>
          <td>{{ twothreesper|floatformat:0 }}%</td>
          <td>{{ twothrees }}</td>
        </tr>
        <tr>
          <th scope="row">1-4</th>
          <td>{{ onefoursper|floatformat:0 }}%</td>
          <td>{{ onefours }}</td>
        </tr>  
        <tr>
          <th scope="row">0-5</th>
          <td>{{ ohfivesper|floatformat:0 }}%</td>
          <td>{{ ohfives }}</td>
        </tr>  
        <tr>
          <th scope="row" colspan="2"><small>Completed Leauges:</small></th>
          <th>{{targetleagues.count}}</th>
        </tr>
      </tbody>
    </table>
    <table class="table table-striped">
      <thead>
        <tr>
          <th class="text-center" colspan="2">Matches</th>
        </tr>
      </thead>
      <tr>
      <th scope="row" colspan="1">Match Win %</th>
      <th>{{matchwinpercentage|floatformat:0}}%</th>
      </tr>
      <tr>
        <th scope="row">Played</th>
        <td>{{matchcount}}</td>
      </tr>
      <tr>
        <th scope="row">Won</th>
        <td>{{matcheswon}}</td>
      </tr>  
      <tr>
        <th scope="row">Lost</th>
        <td>{{matcheslost}}</td>
      </tr>  

      <thead>
        <tr>
          <th class="text-center" colspan="2">Games</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row" colspan="1">Game Win %</th>
          <th>{{gamewinpercentage|floatformat:0}}%</th>
        </tr>
          <tr>
            <th scope="row">Played</th>
            <td>{{gamesplayed}}</td>

          </tr>
          <tr>
            <th scope="row">Won</th>
            <td>{{gameswon}}</td>
          </tr>
          <tr>
            <th scope="row">Lost</th>
            <td>{{gameslost}}</td>
          </tr>
        </tbody>
    </table>
  </div>
</div>
</div>
<script>
  document.body.addEventListener("myEvent", function(evt){
    alert("myEvent was triggered!");
  })
</script>
