{% extends 'main.html' %} {% block content %} {% load crispy_forms_tags %}
<h1>Decks</h1>

<div class="container">
  <div class="row">
    <div class="col-sm">
      <form method="POST" enctype="multipart/form-data" name="deckForm">
        {% csrf_token %}
        <fieldset class="form-group">
          <legend class="border-bottom mb-4">New Deck</legend>
          {{ deck_form|crispy }}
          <legend class="border-bottom mb-3 mt-3">Varient (optional)</legend>
          <div>You can leave it blank if it's just a stock list.</div>
          <label class="mt-3" for="id_varient">Varient name</label>
          <div class="">
            <input class="textinput textInput form-control" id="id_varient" name="varienttext" maxlength="25">
            <input type="checkbox" id="makedefault" name="makedefault" value="0"><label for="makedefault" class="m-2">Make Default</label><br>
          </div>
        </fieldset>
        <div class="form-group">
          <button class="btn btn-outline-info mt-3 mb-3" type="submit" name="deckForm">
            Save Deck
          </button>
        </div>
      </form>
    </div>
    <div class="col-sm">
      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <fieldset class="form-group">
          <legend class="border-bottom mb-4">New Varient (to exitsing deck)</legend>
          {{ flavor_form|crispy }}
        </fieldset>
        <div class="form-group">
          <button class="btn btn-outline-info mt-3" type="submit">Save Varient</button>
        </div>
      </form>
    </div>
  </div>
</div>

<h2>Already existing Decks</h2>
<div class="table-responsive-sm">
  <table id="table_id" class="table table-hover table-sm">
    <thead>
      <tr>
        <th>Deck Pic</th>
        <th>Deck Name</th>
        <th>Deck Format</th>
        <th>Date Added</th>
      </tr>
    </thead>
    {% for deck in decks reversed %}
    <tr>
      <td>
        <img class="rounded-circle deck-mini-img" src="{{ deck.image.url }}" />
      </td>
      <td>{{ deck.name }}</td>
      <td>{{ deck.mtgFormat }}</td>
      <td>{{ deck.date }}</td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
